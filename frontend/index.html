<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GridOS GNN-PINN Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <h1>‚ö° GridOS GNN-PINN Dashboard</h1>
            <p><span id="systemName">PEGASE 9241</span> Scale Analysis ‚Ä¢ 100,000 N-1s in 40s</p>    </header>

    <div class="container">
        <!-- Sidebar -->
        <aside id="sidebar">
            <!-- Grid State Section -->
            <div class="sidebar-section">
                <h3>GRID STATE</h3>
                                <!-- System Selector -->
                                <label>POWER SYSTEM</label>
                                <select id="systemSelect" class="system-selector">
                                                        <option value="pegase">PEGASE 9241</option>
                                                        <option value="ieee118">IEEE 118-Bus</option>
                                                        <option value="ieee300">IEEE 300-Bus</option>
                                                    </select>
                                <small>Select power system benchmark</small>
                
                <div class="file-upload">
                    <input type="file" id="fileUpload" accept=".csv,.json">
                    <label for="fileUpload">
                        üìÅ Click or drag CSV/JSON
                    </label>
                    <small>Grid state data</small>
                </div>
                <div class="status-indicator" id="gridStatus">System Ready</div>
            </div>

            <!-- Contingency Analysis Section -->
            <div class="sidebar-section">
                <h3>CONTINGENCY ANALYSIS</h3>
                <label>SELECT CONTINGENCY</label>
                <select id="contingencySelect">
                    <option>Select a contingency...</option>
                    <!-- Options will be populated dynamically -->
                </select>
                <button class="btn" id="analyzeSingle">üîç Analyze Single</button>
                <button class="btn btn-secondary" id="analyzeScreening">
                    üìä Run 100k N-1 Screening<br>
                    <small>GNN-PINN Accelerated</small>
                </button>
            </div>

            <!-- Export Section -->
            <div class="sidebar-section">
                <h3>EXPORT</h3>
                <button class="btn" id="exportResults">üíæ Export Results</button>
            </div>

            <!-- System Info Section -->
            <div class="sidebar-section">
                <h3>SYSTEM INFO</h3>
                <div class="info-grid">
                    <span>Case:</span><span>PEGASE 9241</span>
                    <span>Buses:</span><span id="busCount">9,241</span>
                    <span>Lines:</span><span id="lineCount">16,049</span>
                    <span>Model:</span><span>GNN-PINN v2.1</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main>
            <!-- Tab Navigation -->
            <div class="tabs">
                <button class="tab-button active" data-tab="overview">Overview</button>
                <button class="tab-button" data-tab="contingencies">Contingencies</button>
                <button class="tab-button" data-tab="performance">Performance</button>
            </div>

            <!-- Tab Content -->
            <div id="overview" class="tab-content active">
                <div id="alerts"></div>

                <h2>Network Topology (PEGASE 9241)</h2>
                <div id="networkGraph"></div>

                <h2>High Risk Contingencies</h2>
                <table id="riskTable">
                    <thead>
                        <tr>
                            <th>Contingency</th>
                            <th>Type</th>
                            <th>Risk Score</th>
                            <th>Violations</th>
                        </tr>
                    </thead>
                    <tbody id="riskTableBody">
                        <tr>
                            <td colspan="4">System idle. Upload state or run screening.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="contingencies" class="tab-content"></div>
            <div id="performance" class="tab-content"></div>
        </main>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <span>Grid State: <span id="statusGridState">Standard Normal</span></span>
        <span>Active N-1s: <span id="statusContingencies">100,000</span></span>
        <span>Inference: <span id="statusInference">0.4ms/step</span></span>
        <span>API: <span id="statusAPI">Simulated</span></span>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/visualization.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
